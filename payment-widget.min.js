/**
 * Sonyasha Payment QR Widget
 *
 * Standalone JavaScript widget for generating NBU-compliant payment QR codes.
 * Produces byte-for-byte identical output to PaymentQRDataBuilder.php
 *
 * NBU Format 002 specification verified against bank-qr.com.ua generator.
 */
!function(t){"use strict";var e,n;e="undefined"!=typeof self?self:void 0!==t?t:this,n=function(){return(()=>{var t={192:(t,e)=>{var n,r,o=function(){var t=function(t,e){var n=t,r=a[e],o=null,i=0,u=null,v=[],y={},w=function(t,e){o=function(t){for(var e=new Array(t),n=0;n<t;n+=1){e[n]=new Array(t);for(var r=0;r<t;r+=1)e[n][r]=null}return e}(i=4*n+17),b(0,0),b(i-7,0),b(0,i-7),S(),x(),A(t,e),n>=7&&k(t),null==u&&(u=_(n,r,v)),C(u,e)},b=function(t,e){for(var n=-1;n<=7;n+=1)if(!(t+n<=-1||i<=t+n))for(var r=-1;r<=7;r+=1)e+r<=-1||i<=e+r||(o[t+n][e+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},x=function(){for(var t=8;t<i-8;t+=1)null==o[t][6]&&(o[t][6]=t%2==0);for(var e=8;e<i-8;e+=1)null==o[6][e]&&(o[6][e]=e%2==0)},S=function(){for(var t=s.getPatternPosition(n),e=0;e<t.length;e+=1)for(var r=0;r<t.length;r+=1){var i=t[e],a=t[r];if(null==o[i][a])for(var u=-2;u<=2;u+=1)for(var d=-2;d<=2;d+=1)o[i+u][a+d]=-2==u||2==u||-2==d||2==d||0==u&&0==d}},k=function(t){for(var e=s.getBCHTypeNumber(n),r=0;r<18;r+=1){var a=!t&&1==(e>>r&1);o[Math.floor(r/3)][r%3+i-8-3]=a}for(r=0;r<18;r+=1)a=!t&&1==(e>>r&1),o[r%3+i-8-3][Math.floor(r/3)]=a},A=function(t,e){for(var n=r<<3|e,a=s.getBCHTypeInfo(n),u=0;u<15;u+=1){var d=!t&&1==(a>>u&1);u<6?o[u][8]=d:u<8?o[u+1][8]=d:o[i-15+u][8]=d}for(u=0;u<15;u+=1)d=!t&&1==(a>>u&1),u<8?o[8][i-u-1]=d:u<9?o[8][15-u-1+1]=d:o[8][15-u-1]=d;o[i-8][8]=!t},C=function(t,e){for(var n=-1,r=i-1,a=7,u=0,d=s.getMaskFunction(e),c=i-1;c>0;c-=2)for(6==c&&(c-=1);;){for(var l=0;l<2;l+=1)if(null==o[r][c-l]){var h=!1;u<t.length&&(h=1==(t[u]>>>a&1)),d(r,c-l)&&(h=!h),o[r][c-l]=h,-1==(a-=1)&&(u+=1,a=7)}if((r+=n)<0||i<=r){r-=n,n=-n;break}}},_=function(t,e,n){for(var r=c.getRSBlocks(t,e),o=l(),i=0;i<n.length;i+=1){var a=n[i];o.put(a.getMode(),4),o.put(a.getLength(),s.getLengthInBits(a.getMode(),t)),a.write(o)}var u=0;for(i=0;i<r.length;i+=1)u+=r[i].dataCount;if(o.getLengthInBits()>8*u)throw"code length overflow. ("+o.getLengthInBits()+">"+8*u+")";for(o.getLengthInBits()+4<=8*u&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*u||(o.put(236,8),o.getLengthInBits()>=8*u));)o.put(17,8);return function(t,e){for(var n=0,r=0,o=0,i=new Array(e.length),a=new Array(e.length),u=0;u<e.length;u+=1){var c=e[u].dataCount,l=e[u].totalCount-c;r=Math.max(r,c),o=Math.max(o,l),i[u]=new Array(c);for(var h=0;h<i[u].length;h+=1)i[u][h]=255&t.getBuffer()[h+n];n+=c;var p=s.getErrorCorrectPolynomial(l),f=d(i[u],p.getLength()-1).mod(p);for(a[u]=new Array(p.getLength()-1),h=0;h<a[u].length;h+=1){var g=h+f.getLength()-a[u].length;a[u][h]=g>=0?f.getAt(g):0}}var v=0;for(h=0;h<e.length;h+=1)v+=e[h].totalCount;var y=new Array(v),m=0;for(h=0;h<r;h+=1)for(u=0;u<e.length;u+=1)h<i[u].length&&(y[m]=i[u][h],m+=1);for(h=0;h<o;h+=1)for(u=0;u<e.length;u+=1)h<a[u].length&&(y[m]=a[u][h],m+=1);return y}(o,r)};y.addData=function(t,e){var n=null;switch(e=e||"Byte"){case"Numeric":n=h(t);break;case"Alphanumeric":n=p(t);break;case"Byte":n=f(t);break;case"Kanji":n=g(t);break;default:throw"mode:"+e}v.push(n),u=null},y.isDark=function(t,e){if(t<0||i<=t||e<0||i<=e)throw t+","+e;return o[t][e]},y.getModuleCount=function(){return i},y.make=function(){if(n<1){for(var t=1;t<40;t++){for(var e=c.getRSBlocks(t,r),o=l(),i=0;i<v.length;i++){var a=v[i];o.put(a.getMode(),4),o.put(a.getLength(),s.getLengthInBits(a.getMode(),t)),a.write(o)}var u=0;for(i=0;i<e.length;i++)u+=e[i].dataCount;if(o.getLengthInBits()<=8*u)break}n=t}w(!1,function(){for(var t=0,e=0,n=0;n<8;n+=1){w(!0,n);var r=s.getLostPoint(y);(0==n||t>r)&&(t=r,e=n)}return e}())},y.createTableTag=function(t,e){t=t||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(e=void 0===e?4*t:e)+"px;",n+='">',n+="<tbody>";for(var r=0;r<y.getModuleCount();r+=1){n+="<tr>";for(var o=0;o<y.getModuleCount();o+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+t+"px;",n+=" height: "+t+"px;",n+=" background-color: ",n+=y.isDark(r,o)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return(n+="</tbody>")+"</table>"},y.createSvgTag=function(t,e,n,r){var o={};"object"==typeof arguments[0]&&(t=(o=arguments[0]).cellSize,e=o.margin,n=o.alt,r=o.title),t=t||2,e=void 0===e?4*t:e,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-title":null;var i,a,s,u,d=y.getModuleCount()*t+2*e,c="";for(u="l"+t+",0 0,"+t+" -"+t+",0 0,-"+t+"z ",c+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',c+=o.scalable?"":' width="'+d+'px" height="'+d+'px"',c+=' viewBox="0 0 '+d+" "+d+'" ',c+=' preserveAspectRatio="xMinYMin meet"',c+=r.text||n.text?' role="img" aria-labelledby="'+M([r.id,n.id].join(" ").trim())+'"':"",c+=">",c+=r.text?'<title id="'+M(r.id)+'">'+M(r.text)+"</title>":"",c+=n.text?'<description id="'+M(n.id)+'">'+M(n.text)+"</description>":"",c+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',c+='<path d="',a=0;a<y.getModuleCount();a+=1)for(s=a*t+e,i=0;i<y.getModuleCount();i+=1)y.isDark(a,i)&&(c+="M"+(i*t+e)+","+s+u);return(c+='" stroke="transparent" fill="black"/>')+"</svg>"},y.createDataURL=function(t,e){t=t||2,e=void 0===e?4*t:e;var n=y.getModuleCount()*t+2*e,r=e,o=n-e;return m(n,n,function(e,n){if(r<=e&&e<o&&r<=n&&n<o){var i=Math.floor((e-r)/t),a=Math.floor((n-r)/t);return y.isDark(a,i)?0:1}return 1})},y.createImgTag=function(t,e,n){t=t||2,e=void 0===e?4*t:e;var r=y.getModuleCount()*t+2*e,o="";return o+="<img",o+=' src="',o+=y.createDataURL(t,e),o+='"',o+=' width="',o+=r,o+='"',o+=' height="',o+=r,o+='"',n&&(o+=' alt="',o+=M(n),o+='"'),o+"/>"};var M=function(t){for(var e="",n=0;n<t.length;n+=1){var r=t.charAt(n);switch(r){case"<":e+="&lt;";break;case">":e+="&gt;";break;case"&":e+="&amp;";break;case'"':e+="&quot;";break;default:e+=r}}return e};return y.createASCII=function(t,e){if((t=t||1)<2)return function(t){t=void 0===t?2:t;var e,n,r,o,i,a=1*y.getModuleCount()+2*t,s=t,u=a-t,d={"██":"█","█ ":"▀"," █":"▄","  ":" "},c={"██":"▀","█ ":"▀"," █":" ","  ":" "},l="";for(e=0;e<a;e+=2){for(r=Math.floor((e-s)/1),o=Math.floor((e+1-s)/1),n=0;n<a;n+=1)i="█",s<=n&&n<u&&s<=e&&e<u&&y.isDark(r,Math.floor((n-s)/1))&&(i=" "),s<=n&&n<u&&s<=e+1&&e+1<u&&y.isDark(o,Math.floor((n-s)/1))?i+=" ":i+="█",l+=t<1&&e+1>=u?c[i]:d[i];l+="\n"}return a%2&&t>0?l.substring(0,l.length-a-1)+Array(a+1).join("▀"):l.substring(0,l.length-1)}(e);t-=1,e=void 0===e?2*t:e;var n,r,o,i,a=y.getModuleCount()*t+2*e,s=e,u=a-e,d=Array(t+1).join("██"),c=Array(t+1).join("  "),l="",h="";for(n=0;n<a;n+=1){for(o=Math.floor((n-s)/t),h="",r=0;r<a;r+=1)i=1,s<=r&&r<u&&s<=n&&n<u&&y.isDark(o,Math.floor((r-s)/t))&&(i=0),h+=i?d:c;for(o=0;o<t;o+=1)l+=h+"\n"}return l.substring(0,l.length-1)},y.renderTo2dContext=function(t,e){e=e||2;for(var n=y.getModuleCount(),r=0;r<n;r++)for(var o=0;o<n;o++)t.fillStyle=y.isDark(r,o)?"black":"white",t.fillRect(r*e,o*e,e,e)},y};t.stringToBytes=(t.stringToBytesFuncs={default:function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e.push(255&r)}return e}}).default,t.createStringToBytes=function(t,e){var n=function(){for(var n=y(t),r=function(){var t=n.read();if(-1==t)throw"eof";return t},o=0,i={};;){var a=n.read();if(-1==a)break;var s=r(),u=r()<<8|r();i[String.fromCharCode(a<<8|s)]=u,o+=1}if(o!=e)throw o+" != "+e;return i}(),r="?".charCodeAt(0);return function(t){for(var e=[],o=0;o<t.length;o+=1){var i=t.charCodeAt(o);if(i<128)e.push(i);else{var a=n[t.charAt(o)];"number"==typeof a?(255&a)==a?e.push(a):(e.push(a>>>8),e.push(255&a)):e.push(r)}}return e}};var e,n,r,o,i,a={L:1,M:0,Q:3,H:2},s=(e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,r=7973,i=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e},(o={}).getBCHTypeInfo=function(t){for(var e=t<<10;i(e)-i(n)>=0;)e^=n<<i(e)-i(n);return 21522^(t<<10|e)},o.getBCHTypeNumber=function(t){for(var e=t<<12;i(e)-i(r)>=0;)e^=r<<i(e)-i(r);return t<<12|e},o.getPatternPosition=function(t){return e[t-1]},o.getMaskFunction=function(t){switch(t){case 0:return function(t,e){return(t+e)%2==0};case 1:return function(t,e){return t%2==0};case 2:return function(t,e){return e%3==0};case 3:return function(t,e){return(t+e)%3==0};case 4:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case 5:return function(t,e){return t*e%2+t*e%3==0};case 6:return function(t,e){return(t*e%2+t*e%3)%2==0};case 7:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw"bad maskPattern:"+t}},o.getErrorCorrectPolynomial=function(t){for(var e=d([1],0),n=0;n<t;n+=1)e=e.multiply(d([1,u.gexp(n)],0));return e},o.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+t}else if(e<27)switch(t){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+t}else{if(!(e<41))throw"type:"+e;switch(t){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+t}}},o.getLostPoint=function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r+=1)for(var o=0;o<e;o+=1){for(var i=0,a=t.isDark(r,o),s=-1;s<=1;s+=1)if(!(r+s<0||e<=r+s))for(var u=-1;u<=1;u+=1)o+u<0||e<=o+u||0==s&&0==u||a==t.isDark(r+s,o+u)&&(i+=1);i>5&&(n+=3+i-5)}for(r=0;r<e-1;r+=1)for(o=0;o<e-1;o+=1){var d=0;t.isDark(r,o)&&(d+=1),t.isDark(r+1,o)&&(d+=1),t.isDark(r,o+1)&&(d+=1),t.isDark(r+1,o+1)&&(d+=1),0!=d&&4!=d||(n+=3)}for(r=0;r<e;r+=1)for(o=0;o<e-6;o+=1)t.isDark(r,o)&&!t.isDark(r,o+1)&&t.isDark(r,o+2)&&t.isDark(r,o+3)&&t.isDark(r,o+4)&&!t.isDark(r,o+5)&&t.isDark(r,o+6)&&(n+=40);for(o=0;o<e;o+=1)for(r=0;r<e-6;r+=1)t.isDark(r,o)&&!t.isDark(r+1,o)&&t.isDark(r+2,o)&&t.isDark(r+3,o)&&t.isDark(r+4,o)&&!t.isDark(r+5,o)&&t.isDark(r+6,o)&&(n+=40);var c=0;for(o=0;o<e;o+=1)for(r=0;r<e;r+=1)t.isDark(r,o)&&(c+=1);return n+Math.abs(100*c/e/e-50)/5*10},o),u=function(){for(var t=new Array(256),e=new Array(256),n=0;n<8;n+=1)t[n]=1<<n;for(n=8;n<256;n+=1)t[n]=t[n-4]^t[n-5]^t[n-6]^t[n-8];for(n=0;n<255;n+=1)e[t[n]]=n;return{glog:function(t){if(t<1)throw"glog("+t+")";return e[t]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t[e]}}}();function d(t,e){if(void 0===t.length)throw t.length+"/"+e;var n=function(){for(var n=0;n<t.length&&0==t[n];)n+=1;for(var r=new Array(t.length-n+e),o=0;o<t.length-n;o+=1)r[o]=t[o+n];return r}(),r={getAt:function(t){return n[t]},getLength:function(){return n.length},multiply:function(t){for(var e=new Array(r.getLength()+t.getLength()-1),n=0;n<r.getLength();n+=1)for(var o=0;o<t.getLength();o+=1)e[n+o]^=u.gexp(u.glog(r.getAt(n))+u.glog(t.getAt(o)));return d(e,0)},mod:function(t){if(r.getLength()-t.getLength()<0)return r;for(var e=u.glog(r.getAt(0))-u.glog(t.getAt(0)),n=new Array(r.getLength()),o=0;o<r.getLength();o+=1)n[o]=r.getAt(o);for(o=0;o<t.getLength();o+=1)n[o]^=u.gexp(u.glog(t.getAt(o))+e);return d(n,0).mod(t)}};return r}var c=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var n={};return n.totalCount=t,n.dataCount=e,n},n={getRSBlocks:function(n,r){var o=function(e,n){switch(n){case a.L:return t[4*(e-1)+0];case a.M:return t[4*(e-1)+1];case a.Q:return t[4*(e-1)+2];case a.H:return t[4*(e-1)+3];default:return}}(n,r);if(void 0===o)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+r;for(var i=o.length/3,s=[],u=0;u<i;u+=1)for(var d=o[3*u+0],c=o[3*u+1],l=o[3*u+2],h=0;h<d;h+=1)s.push(e(c,l));return s}};return n}(),l=function(){var t=[],e=0,n={getBuffer:function(){return t},getAt:function(e){var n=Math.floor(e/8);return 1==(t[n]>>>7-e%8&1)},put:function(t,e){for(var r=0;r<e;r+=1)n.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return e},putBit:function(n){var r=Math.floor(e/8);t.length<=r&&t.push(0),n&&(t[r]|=128>>>e%8),e+=1}};return n},h=function(t){var e=t,n={getMode:function(){return 1},getLength:function(t){return e.length},write:function(t){for(var n=e,o=0;o+2<n.length;)t.put(r(n.substring(o,o+3)),10),o+=3;o<n.length&&(n.length-o==1?t.put(r(n.substring(o,o+1)),4):n.length-o==2&&t.put(r(n.substring(o,o+2)),7))}},r=function(t){for(var e=0,n=0;n<t.length;n+=1)e=10*e+o(t.charAt(n));return e},o=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+t};return n},p=function(t){var e=t,n={getMode:function(){return 2},getLength:function(t){return e.length},write:function(t){for(var n=e,o=0;o+1<n.length;)t.put(45*r(n.charAt(o))+r(n.charAt(o+1)),11),o+=2;o<n.length&&t.put(r(n.charAt(o)),6)}},r=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);if("A"<=t&&t<="Z")return t.charCodeAt(0)-"A".charCodeAt(0)+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return n},f=function(e){var n=t.stringToBytes(e);return{getMode:function(){return 4},getLength:function(t){return n.length},write:function(t){for(var e=0;e<n.length;e+=1)t.put(n[e],8)}}},g=function(e){var n=t.stringToBytesFuncs.SJIS;if(!n)throw"sjis not supported.";!function(){var t=n("友");if(2!=t.length||38726!=(t[0]<<8|t[1]))throw"sjis not supported."}();var r=n(e);return{getMode:function(){return 8},getLength:function(t){return~~(r.length/2)},write:function(t){for(var e=r,n=0;n+1<e.length;){var o=(255&e[n])<<8|255&e[n+1];if(33088<=o&&o<=40956)o-=33088;else{if(!(57408<=o&&o<=60351))throw"illegal char at "+(n+1)+"/"+o;o-=49472}o=192*(o>>>8&255)+(255&o),t.put(o,13),n+=2}if(n<e.length)throw"illegal char at "+(n+1)}}},v=function(){var t=[],e={writeByte:function(e){t.push(255&e)},writeShort:function(t){e.writeByte(t),e.writeByte(t>>>8)},writeBytes:function(t,n,r){n=n||0,r=r||t.length;for(var o=0;o<r;o+=1)e.writeByte(t[o+n])},writeString:function(t){for(var n=0;n<t.length;n+=1)e.writeByte(t.charCodeAt(n))},toByteArray:function(){return t},toString:function(){var e="";e+="[";for(var n=0;n<t.length;n+=1)n>0&&(e+=","),e+=t[n];return e+"]"}};return e},y=function(t){var e=t,n=0,r=0,o=0,i={read:function(){for(;o<8;){if(n>=e.length){if(0==o)return-1;throw"unexpected end of file./"+o}var t=e.charAt(n);if(n+=1,"="==t)return o=0,-1;t.match(/^\s$/)||(r=r<<6|a(t.charCodeAt(0)),o+=6)}var i=r>>>o-8&255;return o-=8,i}},a=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw"c:"+t};return i},m=function(t,e,n){for(var r=function(t,e){var n=t,r=e,o=new Array(t*e),i={setPixel:function(t,e,r){o[e*n+t]=r},write:function(t){t.writeString("GIF87a"),t.writeShort(n),t.writeShort(r),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(n),t.writeShort(r),t.writeByte(0);var e=a(2);t.writeByte(2);for(var o=0;e.length-o>255;)t.writeByte(255),t.writeBytes(e,o,255),o+=255;t.writeByte(e.length-o),t.writeBytes(e,o,e.length-o),t.writeByte(0),t.writeString(";")}},a=function(t){for(var e=1<<t,n=1+(1<<t),r=t+1,i=s(),a=0;a<e;a+=1)i.add(String.fromCharCode(a));i.add(String.fromCharCode(e)),i.add(String.fromCharCode(n));var u,d,c,l=v(),h=(u=l,d=0,c=0,{write:function(t,e){if(t>>>e!=0)throw"length over";for(;d+e>=8;)u.writeByte(255&(t<<d|c)),e-=8-d,t>>>=8-d,c=0,d=0;c|=t<<d,d+=e},flush:function(){d>0&&u.writeByte(c)}});h.write(e,r);var p=0,f=String.fromCharCode(o[p]);for(p+=1;p<o.length;){var g=String.fromCharCode(o[p]);p+=1,i.contains(f+g)?f+=g:(h.write(i.indexOf(f),r),i.size()<4095&&(i.size()==1<<r&&(r+=1),i.add(f+g)),f=g)}return h.write(i.indexOf(f),r),h.write(n,r),h.flush(),l.toByteArray()},s=function(){var t={},e=0,n={add:function(r){if(n.contains(r))throw"dup key:"+r;t[r]=e,e+=1},size:function(){return e},indexOf:function(e){return t[e]},contains:function(e){return void 0!==t[e]}};return n};return i}(t,e),o=0;o<e;o+=1)for(var i=0;i<t;i+=1)r.setPixel(i,o,n(i,o));var a=v();r.write(a);for(var s=function(){var t=0,e=0,n=0,r="",o={},i=function(t){r+=String.fromCharCode(a(63&t))},a=function(t){if(t<0);else{if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw"n:"+t};return o.writeByte=function(r){for(t=t<<8|255&r,e+=8,n+=1;e>=6;)i(t>>>e-6),e-=6},o.flush=function(){if(e>0&&(i(t<<6-e),t=0,e=0),n%3!=0)for(var o=3-n%3,a=0;a<o;a+=1)r+="="},o.toString=function(){return r},o}(),u=a.toByteArray(),d=0;d<u.length;d+=1)s.writeByte(u[d]);return s.flush(),"data:image/gif;base64,"+s};return t}();o.stringToBytesFuncs["UTF-8"]=function(t){return function(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<55296||r>=57344?e.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&t.charCodeAt(n)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return e}(t)},void 0===(r="function"==typeof(n=function(){return o})?n.apply(e,[]):n)||(t.exports=r)},676:(t,e,n)=>{n.d(e,{default:()=>z});var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=function(t){return!!t&&"object"==typeof t&&!Array.isArray(t)};function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!e.length)return t;var a=e.shift();return void 0!==a&&o(t)&&o(a)?(t=r({},t),Object.keys(a).forEach(function(e){var n=t[e],r=a[e];Array.isArray(n)&&Array.isArray(r)?t[e]=r:o(n)&&o(r)?t[e]=i(Object.assign({},n),r):t[e]=r}),i.apply(void 0,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}([t],e))):t}function a(t,e){var n=document.createElement("a");n.download=e,n.href=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function s(t){return e=this,r=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(e){return[2,new Promise(function(e){var n=new XMLHttpRequest;n.onload=function(){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n.response)},n.open("GET",t),n.responseType="blob",n.send()})]})},new((n=void 0)||(n=Promise))(function(t,o){function i(t){try{s(r.next(t))}catch(t){o(t)}}function a(t){try{s(r.throw(t))}catch(t){o(t)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(t){t(r)})).then(i,a)}s((r=r.apply(e,[])).next())});var e,n,r}const u={L:.07,M:.15,Q:.25,H:.3};var d=function(){return(d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};const c=function(){function t(t){var e=t.svg,n=t.type;this._svg=e,this._type=n}return t.prototype.draw=function(t,e,n,r){var o;switch(this._type){case"dots":o=this._drawDot;break;case"classy":o=this._drawClassy;break;case"classy-rounded":o=this._drawClassyRounded;break;case"rounded":o=this._drawRounded;break;case"extra-rounded":o=this._drawExtraRounded;break;default:o=this._drawSquare}o.call(this,{x:t,y:e,size:n,getNeighbor:r})},t.prototype._rotateFigure=function(t){var e,n=t.x,r=t.y,o=t.size,i=t.rotation,a=void 0===i?0:i,s=n+o/2,u=r+o/2;(0,t.draw)(),null===(e=this._element)||void 0===e||e.setAttribute("transform","rotate("+180*a/Math.PI+","+s+","+u+")")},t.prototype._basicDot=function(t){var e=this,n=t.size,r=t.x,o=t.y;this._rotateFigure(d(d({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),e._element.setAttribute("cx",String(r+n/2)),e._element.setAttribute("cy",String(o+n/2)),e._element.setAttribute("r",String(n/2))}}))},t.prototype._basicSquare=function(t){var e=this,n=t.size,r=t.x,o=t.y;this._rotateFigure(d(d({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),e._element.setAttribute("x",String(r)),e._element.setAttribute("y",String(o)),e._element.setAttribute("width",String(n)),e._element.setAttribute("height",String(n))}}))},t.prototype._basicSideRounded=function(t){var e=this,n=t.size,r=t.x,o=t.y;this._rotateFigure(d(d({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+r+" "+o+"v "+n+"h "+n/2+"a "+n/2+" "+n/2+", 0, 0, 0, 0 "+-n)}}))},t.prototype._basicCornerRounded=function(t){var e=this,n=t.size,r=t.x,o=t.y;this._rotateFigure(d(d({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+r+" "+o+"v "+n+"h "+n+"v "+-n/2+"a "+n/2+" "+n/2+", 0, 0, 0, "+-n/2+" "+-n/2)}}))},t.prototype._basicCornerExtraRounded=function(t){var e=this,n=t.size,r=t.x,o=t.y;this._rotateFigure(d(d({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+r+" "+o+"v "+n+"h "+n+"a "+n+" "+n+", 0, 0, 0, "+-n+" "+-n)}}))},t.prototype._basicCornersRounded=function(t){var e=this,n=t.size,r=t.x,o=t.y;this._rotateFigure(d(d({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+r+" "+o+"v "+n/2+"a "+n/2+" "+n/2+", 0, 0, 0, "+n/2+" "+n/2+"h "+n/2+"v "+-n/2+"a "+n/2+" "+n/2+", 0, 0, 0, "+-n/2+" "+-n/2)}}))},t.prototype._drawDot=function(t){var e=t.x,n=t.y,r=t.size;this._basicDot({x:e,y:n,size:r,rotation:0})},t.prototype._drawSquare=function(t){var e=t.x,n=t.y,r=t.size;this._basicSquare({x:e,y:n,size:r,rotation:0})},t.prototype._drawRounded=function(t){var e=t.x,n=t.y,r=t.size,o=t.getNeighbor,i=o?+o(-1,0):0,a=o?+o(1,0):0,s=o?+o(0,-1):0,u=o?+o(0,1):0,d=i+a+s+u;if(0!==d)if(d>2||i&&a||s&&u)this._basicSquare({x:e,y:n,size:r,rotation:0});else{if(2===d){var c=0;return i&&s?c=Math.PI/2:s&&a?c=Math.PI:a&&u&&(c=-Math.PI/2),void this._basicCornerRounded({x:e,y:n,size:r,rotation:c})}if(1===d)return c=0,s?c=Math.PI/2:a?c=Math.PI:u&&(c=-Math.PI/2),void this._basicSideRounded({x:e,y:n,size:r,rotation:c})}else this._basicDot({x:e,y:n,size:r,rotation:0})},t.prototype._drawExtraRounded=function(t){var e=t.x,n=t.y,r=t.size,o=t.getNeighbor,i=o?+o(-1,0):0,a=o?+o(1,0):0,s=o?+o(0,-1):0,u=o?+o(0,1):0,d=i+a+s+u;if(0!==d)if(d>2||i&&a||s&&u)this._basicSquare({x:e,y:n,size:r,rotation:0});else{if(2===d){var c=0;return i&&s?c=Math.PI/2:s&&a?c=Math.PI:a&&u&&(c=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:n,size:r,rotation:c})}if(1===d)return c=0,s?c=Math.PI/2:a?c=Math.PI:u&&(c=-Math.PI/2),void this._basicSideRounded({x:e,y:n,size:r,rotation:c})}else this._basicDot({x:e,y:n,size:r,rotation:0})},t.prototype._drawClassy=function(t){var e=t.x,n=t.y,r=t.size,o=t.getNeighbor,i=o?+o(-1,0):0,a=o?+o(1,0):0,s=o?+o(0,-1):0,u=o?+o(0,1):0;0!==i+a+s+u?i||s?a||u?this._basicSquare({x:e,y:n,size:r,rotation:0}):this._basicCornerRounded({x:e,y:n,size:r,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:n,size:r,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:n,size:r,rotation:Math.PI/2})},t.prototype._drawClassyRounded=function(t){var e=t.x,n=t.y,r=t.size,o=t.getNeighbor,i=o?+o(-1,0):0,a=o?+o(1,0):0,s=o?+o(0,-1):0,u=o?+o(0,1):0;0!==i+a+s+u?i||s?a||u?this._basicSquare({x:e,y:n,size:r,rotation:0}):this._basicCornerExtraRounded({x:e,y:n,size:r,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:n,size:r,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:n,size:r,rotation:Math.PI/2})},t}();var l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};const h=function(){function t(t){var e=t.svg,n=t.type;this._svg=e,this._type=n}return t.prototype.draw=function(t,e,n,r){var o;switch(this._type){case"square":o=this._drawSquare;break;case"extra-rounded":o=this._drawExtraRounded;break;default:o=this._drawDot}o.call(this,{x:t,y:e,size:n,rotation:r})},t.prototype._rotateFigure=function(t){var e,n=t.x,r=t.y,o=t.size,i=t.rotation,a=void 0===i?0:i,s=n+o/2,u=r+o/2;(0,t.draw)(),null===(e=this._element)||void 0===e||e.setAttribute("transform","rotate("+180*a/Math.PI+","+s+","+u+")")},t.prototype._basicDot=function(t){var e=this,n=t.size,r=t.x,o=t.y,i=n/7;this._rotateFigure(l(l({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+(r+n/2)+" "+o+"a "+n/2+" "+n/2+" 0 1 0 0.1 0zm 0 "+i+"a "+(n/2-i)+" "+(n/2-i)+" 0 1 1 -0.1 0Z")}}))},t.prototype._basicSquare=function(t){var e=this,n=t.size,r=t.x,o=t.y,i=n/7;this._rotateFigure(l(l({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+r+" "+o+"v "+n+"h "+n+"v "+-n+"zM "+(r+i)+" "+(o+i)+"h "+(n-2*i)+"v "+(n-2*i)+"h "+(2*i-n)+"z")}}))},t.prototype._basicExtraRounded=function(t){var e=this,n=t.size,r=t.x,o=t.y,i=n/7;this._rotateFigure(l(l({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+r+" "+(o+2.5*i)+"v "+2*i+"a "+2.5*i+" "+2.5*i+", 0, 0, 0, "+2.5*i+" "+2.5*i+"h "+2*i+"a "+2.5*i+" "+2.5*i+", 0, 0, 0, "+2.5*i+" "+2.5*-i+"v "+-2*i+"a "+2.5*i+" "+2.5*i+", 0, 0, 0, "+2.5*-i+" "+2.5*-i+"h "+-2*i+"a "+2.5*i+" "+2.5*i+", 0, 0, 0, "+2.5*-i+" "+2.5*i+"M "+(r+2.5*i)+" "+(o+i)+"h "+2*i+"a "+1.5*i+" "+1.5*i+", 0, 0, 1, "+1.5*i+" "+1.5*i+"v "+2*i+"a "+1.5*i+" "+1.5*i+", 0, 0, 1, "+1.5*-i+" "+1.5*i+"h "+-2*i+"a "+1.5*i+" "+1.5*i+", 0, 0, 1, "+1.5*-i+" "+1.5*-i+"v "+-2*i+"a "+1.5*i+" "+1.5*i+", 0, 0, 1, "+1.5*i+" "+1.5*-i)}}))},t.prototype._drawDot=function(t){var e=t.x,n=t.y,r=t.size,o=t.rotation;this._basicDot({x:e,y:n,size:r,rotation:o})},t.prototype._drawSquare=function(t){var e=t.x,n=t.y,r=t.size,o=t.rotation;this._basicSquare({x:e,y:n,size:r,rotation:o})},t.prototype._drawExtraRounded=function(t){var e=t.x,n=t.y,r=t.size,o=t.rotation;this._basicExtraRounded({x:e,y:n,size:r,rotation:o})},t}();var p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};const f=function(){function t(t){var e=t.svg,n=t.type;this._svg=e,this._type=n}return t.prototype.draw=function(t,e,n,r){("square"===this._type?this._drawSquare:this._drawDot).call(this,{x:t,y:e,size:n,rotation:r})},t.prototype._rotateFigure=function(t){var e,n=t.x,r=t.y,o=t.size,i=t.rotation,a=void 0===i?0:i,s=n+o/2,u=r+o/2;(0,t.draw)(),null===(e=this._element)||void 0===e||e.setAttribute("transform","rotate("+180*a/Math.PI+","+s+","+u+")")},t.prototype._basicDot=function(t){var e=this,n=t.size,r=t.x,o=t.y;this._rotateFigure(p(p({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),e._element.setAttribute("cx",String(r+n/2)),e._element.setAttribute("cy",String(o+n/2)),e._element.setAttribute("r",String(n/2))}}))},t.prototype._basicSquare=function(t){var e=this,n=t.size,r=t.x,o=t.y;this._rotateFigure(p(p({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),e._element.setAttribute("x",String(r)),e._element.setAttribute("y",String(o)),e._element.setAttribute("width",String(n)),e._element.setAttribute("height",String(n))}}))},t.prototype._drawDot=function(t){var e=t.x,n=t.y,r=t.size,o=t.rotation;this._basicDot({x:e,y:n,size:r,rotation:o})},t.prototype._drawSquare=function(t){var e=t.x,n=t.y,r=t.size,o=t.rotation;this._basicSquare({x:e,y:n,size:r,rotation:o})},t}(),g="circle";var v=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},y=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},m=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],w=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const b=function(){function t(t){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(t.width)),this._element.setAttribute("height",String(t.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=t}return Object.defineProperty(t.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),t.prototype.getElement=function(){return this._element},t.prototype.drawQR=function(t){return v(this,void 0,void 0,function(){var e,n,r,o,i,a,s,d,c,l,h=this;return y(this,function(p){switch(p.label){case 0:return e=t.getModuleCount(),n=Math.min(this._options.width,this._options.height)-2*this._options.margin,r=this._options.shape===g?n/Math.sqrt(2):n,o=Math.floor(r/e),i={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=t,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(p.sent(),!this._image)return[2];a=this._options,s=a.imageOptions,d=a.qrOptions,c=s.imageSize*u[d.errorCorrectionLevel],l=Math.floor(c*e*e),i=function(t){var e=t.originalHeight,n=t.originalWidth,r=t.maxHiddenDots,o=t.maxHiddenAxisDots,i=t.dotSize,a={x:0,y:0},s={x:0,y:0};if(e<=0||n<=0||r<=0||i<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var u=e/n;return a.x=Math.floor(Math.sqrt(r/u)),a.x<=0&&(a.x=1),o&&o<a.x&&(a.x=o),a.x%2==0&&a.x--,s.x=a.x*i,a.y=1+2*Math.ceil((a.x*u-1)/2),s.y=Math.round(s.x*u),(a.y*a.x>r||o&&o<a.y)&&(o&&o<a.y?(a.y=o,a.y%2==0&&a.x--):a.y-=2,s.y=a.y*i,a.x=1+2*Math.ceil((a.y/u-1)/2),s.x=Math.round(s.y/u)),{height:s.y,width:s.x,hideYDots:a.y,hideXDots:a.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:l,maxHiddenAxisDots:e-14,dotSize:o}),p.label=2;case 2:return this.drawBackground(),this.drawDots(function(t,n){var r,o,a,s,u,d;return!(h._options.imageOptions.hideBackgroundDots&&t>=(e-i.hideXDots)/2&&t<(e+i.hideXDots)/2&&n>=(e-i.hideYDots)/2&&n<(e+i.hideYDots)/2||(null===(r=m[t])||void 0===r?void 0:r[n])||(null===(o=m[t-e+7])||void 0===o?void 0:o[n])||(null===(a=m[t])||void 0===a?void 0:a[n-e+7])||(null===(s=w[t])||void 0===s?void 0:s[n])||(null===(u=w[t-e+7])||void 0===u?void 0:u[n])||(null===(d=w[t])||void 0===d?void 0:d[n-e+7]))}),this.drawCorners(),this._options.image?[4,this.drawImage({width:i.width,height:i.height,count:e,dotSize:o})]:[3,4];case 3:p.sent(),p.label=4;case 4:return[2]}})})},t.prototype.drawBackground=function(){var t,e,n,r=this._element,o=this._options;if(r){var i=null===(t=o.backgroundOptions)||void 0===t?void 0:t.gradient,a=null===(e=o.backgroundOptions)||void 0===e?void 0:e.color;if((i||a)&&this._createColor({options:i,color:a,additionalRotation:0,x:0,y:0,height:o.height,width:o.width,name:"background-color"}),null===(n=o.backgroundOptions)||void 0===n?void 0:n.round){var s=Math.min(o.width,o.height),u=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),u.setAttribute("x",String((o.width-s)/2)),u.setAttribute("y",String((o.height-s)/2)),u.setAttribute("width",String(s)),u.setAttribute("height",String(s)),u.setAttribute("rx",String(s/2*o.backgroundOptions.round)),this._backgroundClipPath.appendChild(u)}}},t.prototype.drawDots=function(t){var e,n,r=this;if(!this._qr)throw"QR code is not defined";var o=this._options,i=this._qr.getModuleCount();if(i>o.width||i>o.height)throw"The canvas is too small.";var a=Math.min(o.width,o.height)-2*o.margin,s=o.shape===g?a/Math.sqrt(2):a,u=Math.floor(s/i),d=Math.floor((o.width-i*u)/2),l=Math.floor((o.height-i*u)/2),h=new c({svg:this._element,type:o.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:null===(e=o.dotsOptions)||void 0===e?void 0:e.gradient,color:o.dotsOptions.color,additionalRotation:0,x:0,y:0,height:o.height,width:o.width,name:"dot-color"});for(var p=function(e){for(var o=function(o){return t&&!t(e,o)?"continue":(null===(n=f._qr)||void 0===n?void 0:n.isDark(e,o))?(h.draw(d+e*u,l+o*u,u,function(n,a){return!(e+n<0||o+a<0||e+n>=i||o+a>=i)&&!(t&&!t(e+n,o+a))&&!!r._qr&&r._qr.isDark(e+n,o+a)}),void(h._element&&f._dotsClipPath&&f._dotsClipPath.appendChild(h._element))):"continue"},a=0;a<i;a++)o(a)},f=this,v=0;v<i;v++)p(v);if(o.shape===g){var y=Math.floor((a/u-i)/2),m=i+2*y,w=d-y*u,b=l-y*u,x=[],S=Math.floor(m/2);for(v=0;v<m;v++){x[v]=[];for(var k=0;k<m;k++)v>=y-1&&v<=m-y&&k>=y-1&&k<=m-y||Math.sqrt((v-S)*(v-S)+(k-S)*(k-S))>S?x[v][k]=0:x[v][k]=this._qr.isDark(k-2*y<0?k:k>=i?k-2*y:k-y,v-2*y<0?v:v>=i?v-2*y:v-y)?1:0}var A=function(t){for(var e=function(e){if(!x[t][e])return"continue";h.draw(w+t*u,b+e*u,u,function(n,r){var o;return!!(null===(o=x[t+n])||void 0===o?void 0:o[e+r])}),h._element&&C._dotsClipPath&&C._dotsClipPath.appendChild(h._element)},n=0;n<m;n++)e(n)},C=this;for(v=0;v<m;v++)A(v)}},t.prototype.drawCorners=function(){var t=this;if(!this._qr)throw"QR code is not defined";var e=this._element,n=this._options;if(!e)throw"Element code is not defined";var r=this._qr.getModuleCount(),o=Math.min(n.width,n.height)-2*n.margin,i=n.shape===g?o/Math.sqrt(2):o,a=Math.floor(i/r),s=7*a,u=3*a,d=Math.floor((n.width-r*a)/2),l=Math.floor((n.height-r*a)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(e){var o,i,p,g,v,y,b,x,S,k,A,C,_=e[0],M=e[1],B=e[2],O=d+_*a*(r-7),P=l+M*a*(r-7),D=t._dotsClipPath,z=t._dotsClipPath;if(((null===(o=n.cornersSquareOptions)||void 0===o?void 0:o.gradient)||(null===(i=n.cornersSquareOptions)||void 0===i?void 0:i.color))&&((D=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+_+"-"+M),t._defs.appendChild(D),t._cornersSquareClipPath=t._cornersDotClipPath=z=D,t._createColor({options:null===(p=n.cornersSquareOptions)||void 0===p?void 0:p.gradient,color:null===(g=n.cornersSquareOptions)||void 0===g?void 0:g.color,additionalRotation:B,x:O,y:P,height:s,width:s,name:"corners-square-color-"+_+"-"+M})),null===(v=n.cornersSquareOptions)||void 0===v?void 0:v.type){var q=new h({svg:t._element,type:n.cornersSquareOptions.type});q.draw(O,P,s,B),q._element&&D&&D.appendChild(q._element)}else for(var I=new c({svg:t._element,type:n.dotsOptions.type}),L=function(t){for(var e=function(e){if(!(null===(y=m[t])||void 0===y?void 0:y[e]))return"continue";I.draw(O+t*a,P+e*a,a,function(n,r){var o;return!!(null===(o=m[t+n])||void 0===o?void 0:o[e+r])}),I._element&&D&&D.appendChild(I._element)},n=0;n<m[t].length;n++)e(n)},E=0;E<m.length;E++)L(E);if(((null===(b=n.cornersDotOptions)||void 0===b?void 0:b.gradient)||(null===(x=n.cornersDotOptions)||void 0===x?void 0:x.color))&&((z=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+_+"-"+M),t._defs.appendChild(z),t._cornersDotClipPath=z,t._createColor({options:null===(S=n.cornersDotOptions)||void 0===S?void 0:S.gradient,color:null===(k=n.cornersDotOptions)||void 0===k?void 0:k.color,additionalRotation:B,x:O+2*a,y:P+2*a,height:u,width:u,name:"corners-dot-color-"+_+"-"+M})),null===(A=n.cornersDotOptions)||void 0===A?void 0:A.type){var N=new f({svg:t._element,type:n.cornersDotOptions.type});N.draw(O+2*a,P+2*a,u,B),N._element&&z&&z.appendChild(N._element)}else{I=new c({svg:t._element,type:n.dotsOptions.type});var Q=function(t){for(var e=function(e){if(!(null===(C=w[t])||void 0===C?void 0:C[e]))return"continue";I.draw(O+t*a,P+e*a,a,function(n,r){var o;return!!(null===(o=w[t+n])||void 0===o?void 0:o[e+r])}),I._element&&z&&z.appendChild(I._element)},n=0;n<w[t].length;n++)e(n)};for(E=0;E<w.length;E++)Q(E)}})},t.prototype.loadImage=function(){var t=this;return new Promise(function(e,n){var r=t._options,o=new Image;if(!r.image)return n("Image is not defined");"string"==typeof r.imageOptions.crossOrigin&&(o.crossOrigin=r.imageOptions.crossOrigin),t._image=o,o.onload=function(){e()},o.src=r.image})},t.prototype.drawImage=function(t){var e=t.width,n=t.height,r=t.count,o=t.dotSize;return v(this,void 0,void 0,function(){var t,i,a,u,d,c,l,h,p;return y(this,function(f){switch(f.label){case 0:return t=this._options,i=Math.floor((t.width-r*o)/2),a=Math.floor((t.height-r*o)/2),u=i+t.imageOptions.margin+(r*o-e)/2,d=a+t.imageOptions.margin+(r*o-n)/2,c=e-2*t.imageOptions.margin,l=n-2*t.imageOptions.margin,(h=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(u)),h.setAttribute("y",String(d)),h.setAttribute("width",c+"px"),h.setAttribute("height",l+"px"),[4,s(t.image||"")];case 1:return p=f.sent(),h.setAttribute("href",p||""),this._element.appendChild(h),[2]}})})},t.prototype._createColor=function(t){var e=t.options,n=t.color,r=t.additionalRotation,o=t.x,i=t.y,a=t.height,s=t.width,u=t.name,d=s>a?s:a,c=document.createElementNS("http://www.w3.org/2000/svg","rect");if(c.setAttribute("x",String(o)),c.setAttribute("y",String(i)),c.setAttribute("height",String(a)),c.setAttribute("width",String(s)),c.setAttribute("clip-path","url('#clip-path-"+u+"')"),e){var l;if("radial"===e.type)(l=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",u),l.setAttribute("gradientUnits","userSpaceOnUse"),l.setAttribute("fx",String(o+s/2)),l.setAttribute("fy",String(i+a/2)),l.setAttribute("cx",String(o+s/2)),l.setAttribute("cy",String(i+a/2)),l.setAttribute("r",String(d/2));else{var h=((e.rotation||0)+r)%(2*Math.PI),p=(h+2*Math.PI)%(2*Math.PI),f=o+s/2,g=i+a/2,v=o+s/2,y=i+a/2;p>=0&&p<=.25*Math.PI||p>1.75*Math.PI&&p<=2*Math.PI?(f-=s/2,g-=a/2*Math.tan(h),v+=s/2,y+=a/2*Math.tan(h)):p>.25*Math.PI&&p<=.75*Math.PI?(g-=a/2,f-=s/2/Math.tan(h),y+=a/2,v+=s/2/Math.tan(h)):p>.75*Math.PI&&p<=1.25*Math.PI?(f+=s/2,g+=a/2*Math.tan(h),v-=s/2,y-=a/2*Math.tan(h)):p>1.25*Math.PI&&p<=1.75*Math.PI&&(g+=a/2,f+=s/2/Math.tan(h),y-=a/2,v-=s/2/Math.tan(h)),(l=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",u),l.setAttribute("gradientUnits","userSpaceOnUse"),l.setAttribute("x1",String(Math.round(f))),l.setAttribute("y1",String(Math.round(g))),l.setAttribute("x2",String(Math.round(v))),l.setAttribute("y2",String(Math.round(y)))}e.colorStops.forEach(function(t){var e=t.offset,n=t.color,r=document.createElementNS("http://www.w3.org/2000/svg","stop");r.setAttribute("offset",100*e+"%"),r.setAttribute("stop-color",n),l.appendChild(r)}),c.setAttribute("fill","url('#"+u+"')"),this._defs.appendChild(l)}else n&&c.setAttribute("fill",n);this._element.appendChild(c)},t}(),x="canvas";for(var S={},k=0;k<=40;k++)S[k]=k;const A={type:x,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:S[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var C=function(){return(C=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function _(t){var e=C({},t);if(!e.colorStops||!e.colorStops.length)throw"Field 'colorStops' is required in gradient";return e.rotation?e.rotation=Number(e.rotation):e.rotation=0,e.colorStops=e.colorStops.map(function(t){return C(C({},t),{offset:Number(t.offset)})}),e}function M(t){var e=C({},t);return e.width=Number(e.width),e.height=Number(e.height),e.margin=Number(e.margin),e.imageOptions=C(C({},e.imageOptions),{hideBackgroundDots:Boolean(e.imageOptions.hideBackgroundDots),imageSize:Number(e.imageOptions.imageSize),margin:Number(e.imageOptions.margin)}),e.margin>Math.min(e.width,e.height)&&(e.margin=Math.min(e.width,e.height)),e.dotsOptions=C({},e.dotsOptions),e.dotsOptions.gradient&&(e.dotsOptions.gradient=_(e.dotsOptions.gradient)),e.cornersSquareOptions&&(e.cornersSquareOptions=C({},e.cornersSquareOptions),e.cornersSquareOptions.gradient&&(e.cornersSquareOptions.gradient=_(e.cornersSquareOptions.gradient))),e.cornersDotOptions&&(e.cornersDotOptions=C({},e.cornersDotOptions),e.cornersDotOptions.gradient&&(e.cornersDotOptions.gradient=_(e.cornersDotOptions.gradient))),e.backgroundOptions&&(e.backgroundOptions=C({},e.backgroundOptions),e.backgroundOptions.gradient&&(e.backgroundOptions.gradient=_(e.backgroundOptions.gradient))),e}var B=n(192),O=n.n(B),P=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},D=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const z=function(){function t(t){this._options=t?M(i(A,t)):A,this.update()}return t._clearContainer=function(t){t&&(t.innerHTML="")},t.prototype._setupSvg=function(){var t=this;if(this._qr){var e=new b(this._options);this._svg=e.getElement(),this._svgDrawingPromise=e.drawQR(this._qr).then(function(){var n;t._svg&&(null===(n=t._extension)||void 0===n||n.call(t,e.getElement(),t._options))})}},t.prototype._setupCanvas=function(){var t,e=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=null===(t=this._svgDrawingPromise)||void 0===t?void 0:t.then(function(){if(e._svg){var t=e._svg,n=(new XMLSerializer).serializeToString(t),r="data:image/svg+xml;base64,"+btoa(n),o=new Image;return new Promise(function(t){o.onload=function(){var n,r;null===(r=null===(n=e._canvas)||void 0===n?void 0:n.getContext("2d"))||void 0===r||r.drawImage(o,0,0),t()},o.src=r})}}))},t.prototype._getElement=function(t){return void 0===t&&(t="png"),P(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:if(!this._qr)throw"QR code is empty";return"svg"!==t.toLowerCase()?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return e.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return e.sent(),[2,this._canvas]}})})},t.prototype.update=function(e){t._clearContainer(this._container),this._options=e?M(i(this._options,e)):this._options,this._options.data&&(this._qr=O()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(t){switch(!0){case/^[0-9]*$/.test(t):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(t):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===x?this._setupCanvas():this._setupSvg(),this.append(this._container))},t.prototype.append=function(t){if(t){if("function"!=typeof t.appendChild)throw"Container should be a single DOM node";this._options.type===x?this._canvas&&t.appendChild(this._canvas):this._svg&&t.appendChild(this._svg),this._container=t}},t.prototype.applyExtension=function(t){if(!t)throw"Extension function should be defined.";this._extension=t,this.update()},t.prototype.deleteExtension=function(){this._extension=void 0,this.update()},t.prototype.getRawData=function(t){return void 0===t&&(t="png"),P(this,void 0,void 0,function(){var e,n,r;return D(this,function(o){switch(o.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(t)];case 1:return(e=o.sent())?"svg"===t.toLowerCase()?(n=new XMLSerializer,r=n.serializeToString(e),[2,new Blob(['<?xml version="1.0" standalone="no"?>\r\n'+r],{type:"image/svg+xml"})]):[2,new Promise(function(n){return e.toBlob(n,"image/"+t,1)})]:[2,null]}})})},t.prototype.download=function(t){return P(this,void 0,void 0,function(){var e,n,r,o,i;return D(this,function(s){switch(s.label){case 0:if(!this._qr)throw"QR code is empty";return e="png",n="qr","string"==typeof t?(e=t,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):"object"==typeof t&&null!==t&&(t.name&&(n=t.name),t.extension&&(e=t.extension)),[4,this._getElement(e)];case 1:return(r=s.sent())?("svg"===e.toLowerCase()?(o=new XMLSerializer,i='<?xml version="1.0" standalone="no"?>\r\n'+(i=o.serializeToString(r)),a("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(i),n+".svg")):a(r.toDataURL("image/"+e),n+"."+e),[2]):[2]}})})},t}()}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(676)})().default},"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.QRCodeStyling=n():e.QRCodeStyling=n();const r={recipientName:"ФОП Вітвіцька Анастасія Сергіївна",iban:"UA723220010000026002360009669",taxId:"3363403087",purposePrefix:"За інтернет замовлення",orderIdSelector:".h2",amountSelector:".order-summary-b",containerSelector:"#sonyasha-payment-widget",logoUrl:"",showPayButton:!0,showBankSelection:!1,qrLibraryUrl:"",qrLogoUrl:""},o="https://bank.gov.ua/qr/",i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAO8AAABYCAYAAAAdv6B0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAGMBJREFUeNrsXQl4VEW2vkk6CyEJBMhOts6+kRASAoiiLPpkVfSB6DDg7ugbHZ/6dGZcQEcRnfHpvCfoqONz1Bl3B1B4IgKyKwQIWchGNkLCEpZAgKS7k8x/OlXNzeV29+3OQiv1f199de+tU1Wn6tapOnWqbl1JEhAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEOhluPVl4llzcsfAmwwXAPcD3Od7P9kpal1AoBeg64tEM2/OIW/JkJhhN8GPgPOFOwQ3A26hqHYBARcV3qH6oCfhPdRubB9A995+PrvhZcNdI6pcQMBFhTfjxuw4CO2juCTBPQ7BXbDr/W1VuI6me1HlAgIuKrxBiaG3tRtMg8wjrr/PsxDcr0/UNNHtflHdAgIuLLwQ3F+wy5r8D7b/9UR1k0Px02eN9Ib3B7gkuDNw+XAbi1bs2e1gOnfD84d7BXG10IfBozjvgv6gg3mRVvEC3HuIu9YO7dPwctjtEtBvt0M/Dd6trCyr4N5GnE4rtLfAC4f7bzkNnqcz/hrw/D4N5fGiemB50jt4FPEahbj8/Oe88cyvO151rMXRyCHJYaRy/0bG2zwatTs7Oqnh/qF41V67aabNyEpHOtQBUCMchIb3jIZ8b4D3OJwe9AsV6ZFw/gpuKfI/aYVns4DZE17QUh6+7LbFlvAi338H/VJcxrJHE0iYEOcjFdpo0L6MSz+4MtB8reCPjIWSFuEFfSIrD8cWxFvuig04Njchgd4LXGP1zooHhPD2DHz5qd3RiKnTM91NBtN/cr6gdm+F1wo3KTQtPJVIOjs755d8VdBsKx3Q3mtqMwWz20eQ7tuIY3M0Rb7DmVDR6LVQkd7jbFTWQXgfVfAcgLgL2O1ZO+WLBq2v7FG0DdoByPcVlGM4q4stNChae2egjea0AFn5v5aVLcWR9wD6XMWj4a7agIdGDbsW3o10fbkJr3sfpm1yNEJYesQV8Iawxvrc3o9/vAfuPrjpHl66EjTOGaBZYjfjNlO67HYg4jyiIXsj871V0uuE08HdkzJ1RIyC51ymXhJK7JQvSvHorA3a22SCexfq4F64WXBrrJTZ00anUM8vwL+nhrqIVNyfc9UG3G5sT4Uj/7JTm/tCePmoqHdY2ttMt7DLw3s/2bn0aNnhErhKuK9xP58aIWjuSLk+I1vj6M/TvR1xop0tkLefzz/YpX/4iOHzFGnPkNGV2SmfsoXpbdDOYZeFKPs7rC42wR23wmOr7NZDEVzJL8B/mhMdr96F23Ds5Trn7Qvh5VblmOTr0gc6GHcE89cfLW3sNirhngxWb1I7Dc+KesxOOgbFiBGAOHOdLVDB57t+hNfEhGq+IniajG69xvJxxNigHcP8r1F2LTzKR/1OayM8+B/qwHuwq967AAYI4e09cIONR0R29AQH43J1t8rK6PJ3cwNsNc5MutZmx8B7488tjbbV+ADiOLUd9EhJA3UG/+SaJ9IxzyHhD5KNSrWgs2daD1N0Kh42aLkqvl0jjydt2DLk91r0y1AFn66sk3persLb6wYrCNjqtpbWp5nAkOFntQPRBzP/vFpg4T931yROJruV5Bs5KvqasrVFX9kRXtICvpe6rLRRiJOLOD86Wa5lKNdd5gnhqOg5SGcx/DRjq5F3gCs0JBPAfLKcmzUBlCepfF2JLXXbmY0tyk6kzcH4gxR8ZmiJFJUZm0keG/mNvdSkOhRp8XdbDUdGyRRZ/k/A2+Fg+pRGSC90IMqBcHddQfX6n5TwFq7YXZA4KbVB6lpvvB7XgeXflZy0Fw90iXItUI2msbC+gwmvBKGZCc+a8PIRzdvbz3tpW0vbBBbn1/Dm2zFYlVsp1x7wSGGJSOd6+IvhZ10Qbu//11A9XE3+hgtv1OjYMDvC6+PEa6iwMpXRCv4uvmV8hmmJNDwj+gom6AN7cZ6sTIt3gKeNrQYfk8HkxQNCEsKWePp4nXYw/YBe4PGEdLHx8YufnPA27qtvzZg18h0IzFO49YvK08+D8C6z22vn6aON5w3y3tAeIrXwU7xq77r4a1JOsVH9Rlz7Vm7Yr2Y95fO6WivlklCu91Cu53GbiXSC4I9lwS3IZ5sGdjKYoBciHXMHZzxvDLdCW8dGMeqtvnPwNSjXwo9qjYhykcpMy1nN4HMb+OTPw1FvDTZ7jK37N8LbJXVZ7EN7qUn5KNLiKrxHbG4C1c1CHuDm7v4aeDjkxMje02nBYalrSbNbk/nJqc1mgfmqYHn81cmkwnhCIB/D9VuVG0ttqlGgk4fHO2FUUcWhvQeNaHgf4pLWAAfGjI27Go1QTZXX25tDoVzvoSzUKfkgnXHg+QoWtBP52Fx7RjwdH3mRTgnuq5l2Ym0NlQT2dqlrDfN/emjL0PyeUa4U1onWgs8y8MmfD7cnvMeqj5T066TPTfIbnh7NhbehelfFo+DBJF0m6JN13kN76hq9/Lw/5O0hZlz8bRqitWvkiwtJuFZ+wMsbsk7i35ztyFCuQ9wgh3TmspFR0jIyog4SmDpfi3TOyYxBmVZ45pssxsVNSArqL6MOysXnkPngk0YlE3ue6WqN91jVEbmGcQD3l43g9pnwEkrXFD7L55F48U/rr0y014ACZdclDszntPBSBK+I3c4EL2rl7tTUEQz05lOAaXxujWc/ahCKZHa5WTG3DrPC8zqm7nrHjk/4bU/eBfg7aKWTtDXf5dOAMkc7y/5CRGpknOz2shLcPhXeg7tqqtFo+B7c2LirEm/R2GjMvagNujNO8EIN+D0+twUvqU53St8UbWDzmQDZs3wHjECVMiMHIc4Kz83g2awuG88Z7tWPT0jqAc8VVjpJNSQxgedxjtvi81IiPC0qrpsSLYS391D2bfFi3iMazhmeiR0Xb0s1HSIfLDSq147w8ikfXcHLNKc7pZ3VBjTsTxXPTmiImqUYcXkHFWWD5+VMeHyhOi9ygE2Dgj95nSXYiZvL8i5W8Bnpao3X1GY09Fdbtoew5OHkBpFvg0YPNx/udrib4Hx6kqeuLwtU90PVgaQpaZ8YzrbRFypx8dckz6neVvl3a1MYjcnSiDDZCV5q0XkUMCGirYdLrWmZ9tIqX1f8eszY+AcdZGEUG9F2KdV/zIdja7ZVVqvwfBz1txT19xI6nJtB9yroftBidwKttSWQwTbm5cPg0Q6sY8i7SaEpuPo2RINjwhZB9TOJaRoDWcdOU4QPG0sPqdFLTNs6rQxHmC4yI5r23JPk1jeW1j+mEj8ZNH/GZZ7Ox9NoajWSBvQ+aBe6pPCaW+j6/Yui8/SzcemDBrgoeoz+89odVWqbBmo0JmmxeCItD6SleST28vVaBh7+gstsxB2MuKecmVMjXjmEV3MdIC9/1vjbUR9cSC1fFyVMTFEVXlZ/y1B/9BmfHnQvdXZ0TED+9rKcBdrhTEsxO3QAdjUXxMlldMWyx5zPaBcXXs22kNDECH1kRsyzTHjly1C0RtwC4VyhoE8F/XymfTQjvNvXSwjTG9uM8q/NLhJe0DwMmil0XbWz4h59bkKe5Pjmmf5Tm80Sua2SKpXveklInJw2yQppkKMdDtJKdISXyg2lH0tsPQ5xJ1vpuct7uw6QVwzjuxr1YWIdiaUTgsAMs1F/Z0H7GKO7CmldpaWfkjo7PeHC4bIQT9M2VdAlqAiChc+oPH2wCwvvIW2CG66Lyop5GYJ0G1wonAS3Ca4KLgDujwp6D9Avw/MnWJz7lWnimd2PPUBj+Zims6PzrepdlXcdLKx9wKWFlzXU5bIGYk1NcNgggrQc+s4UKjv1rD+wuDcrguO1qs0OqvmUF5/v7rJY5L4vK7dirLsIoP2Cx0Vaz2jIsghxboabC0eGwqc0ssrXzuWnllj4hAqf6GICK1eVNS2HRWXFzja2GmcrHtPuOL5bLz4kPmyQjD4S9PLOT22vuZZ2uMrS0Mck/qnd1C5BZe5GgHzJ5cHluIzwHthUTpv6+X7lSZE5MWob8utk150ak3Z4/6znhY5kCviQl9/R7XyOjNB8J5ZlG2TVlgqT1vcAWuL7JXY7EXzbU2ENiNMMVwlHWk++xjq7itVRmZqAoONwNYuuQx1+MIQDgvgsu22W1UWkvP3FjU2y7HUGvXJfgNpuNS1r4K/AnWJpPhw/NmmanC+47Ohs/QvI+3dwQ11GeKs2lxtkvfmQ5Osz1CysZU7MxT0c5aV6SwV1JGcYHwk9sAOcc0J4y52dMoDvlfzlg+8bHXyv8tM7VA1Pw7OjA3kY8tpvJa0QFxPedK2EQfpQKSY77k5moCJ8q/PS8S/gpksXzhWTDuwor2dxqDN7QmnyUEn+Sjt509FEt7P2Sh2GGwT4T5Q+OfD1VPyYpOVQp8fU7alaDbfWZYSXYYulB29pu1olvN3RHtVzgMOb0EkFJSPBasbHdBWSI1r7AS1EESOjfGXqaKEVsmSNfH/P+B7Tg/egusadOm1ELuu4WpDXYWf57Gc0adHWgvQhUmxO/F3GVrOx0qIqN5YeWgQBrmcj7w3s+am2ltZBiHML4nyCcOUXWv6KtBNtaW0IT0A6r+GSLM1fSl3ns5HdJQnP34J7p7Oj4666vdUbwc/N9UV1b8J1uprw7rE1x4Mgyre6RWpRlWu2H3DKuIS83mWX5lMwIrIi5d8Ga/0Cp04LUdr0zBRZPVf1UIPYx6efPXgPqhbOtpY23sFUoT6saRgeriS5EKxqe205KDbEMzYn4T4ILhmi5EcIHawvqt1V32U0otGUr7kOSLwy9YOEcSkfQqhKGssO0dbewypaFE/7JWvaGsKvQPhy5H0HeH1f6vqIgtpXR5f6bEiEi0Ie88HL43AnHCp/P9Z1va0GVPdDVUXYCMu839uWzYFfVG7Y3+wMI8hrC/KizmIU/EFpM7Ji+dczkvb1Qk0Gkrbuo+RvkR9tVWxgmkYrazR+GvPk8+SYPng/o3mbQ3082dHRSZ3TSYWa7etKwnu4omHPsOhgqwMCwvSxuQl3QkB+B+Gh3Wr/azKY+FzTvHB77tRZmo7QHz7IjmAE3SYIrdfBwhoSypch3CfCkiJeRbwXuUEL6ZIANyPtuUh7lkq+5N2A8FeQVizSfOZQcd2SkIRwGiz+yuqR2hkZR08hj01OdV79WNc2e+3y70pOoWG3MzpbGwJSnJhzKvM6i7xIdZ6TMSt7HNQkQx/WCe+pDZ4+nvePnJtHHRPtmgo+23SGd1IJYRnDPRoL6+2tWXOD0eA+eD/cohrQYep4FHxSXs2GltYQzM+Ude8SOFhQcwCCcpBpahOHRgfpj9ceq4JPBp8cfV7iIxCuKRCevx2paPwdnp0PSQirgiCSmns36Bri8pImgSaXCe4LoCP19izStvTmePYG4t2AeNQR65AubTQ6inijEeccnpMGYFkuQjhtSqKR+xTi0r70F1uOt/iHJEjvSF2bYFawd0nfpAcj7SjQ1bmy8A7UIMj1rAe01UgCHJlzWi24j+dHplbjHAjudbj9VPa8pZfLzUfeTQfza2kXTihrbHGhaeEZLHxwxg3Z0RDeKo0d4EUnjSAtP2cZRFxaZ+ZD2HLwuYaNZLRkkonwPDavy5FcDB6euufbjSb6aiwYgviq1NH5BXzqiOZ1tHd4IvyFowcO/76uoKu5uLm7/SZIH0pLZ2OTrkxbYzhvcAMNrWt/DLpFnK6bplZQ3Yx4dyLec/TukK75HSLeVsT5bEjkMJoHP2uZ17Ua3kVY07Gqww8irvnwwtFzxmfjOV/P/z3cL5nwSv7DAgJdXXjlao21kzW2M+FNDEkNH3CkpKFbI8Uzf5nBpagnzBzaXbsN6dGIS2rPDtnzit4qMNIfKjO+fVq2tmi9QmjozOFvutTr1nQbc2IOPq8oVQZk3zom/GyTpn7noq9vRszOuRb5885rGfikFrxexifNF+n43DC193IpAQF5F0JFG38mQahmJE1In2Ho+h55F8Legv+X2j0XqhXXq1g9z2ajJe0moy+ovpPTKYEw+tLtJhaH78qqxPNaCO+TSlsS8n4IYfzUUQm8nWb2GppukeX5Ftb5nKjcXlbg6mqzZaFb561T/YQOzzey4189M2/KSVpbsnKvPBzPxqKReTLarT1hpvSboiNoiMTHeEn2dwA8P9lbBQa/11mEwlt3QKW8jSgvv9ViYedLEhf95Lh6S8XJ4GTL14UdNgyTERfPy1v5u2lv2FtXr9Z2ZWVKxnvZ4yrCCwExYFQkQ9AC9i4J1G4+Q1i1lTjFUvctoFrzklg8ZdwB3bUBj3+Attse/qaaI0XDYoJprZe2SN7P7B3FeP6609pjf1RwcFJoAGOacLphX73qqInn60DLG1QuewnyRjZLRqtlkm/P5L6CvXD+61FHDGB291TLhIL4LVMpbykvLzDSTh0SYTwT+osOXt+/pvCYTHgHKjqJs7JOQm1KwresHkQ6aps4ymVlom1+LiO8hJr8A2T/WM5cvyIwYiitfcu3rHY21Rx9XoVHqldaM6ZDKhKYkbISz7e5tPBmzR29oO1Mqx9rSO/tX71P7YMACc8PoJGSCkE7VmYFJYS8dayia9kV19Qg+ZbGStAW9JQv8LKdNWo+X3TkoLZADTQTeZsHv/Uq5TWivOdZz21VeFF2HepwEerQbD9pLDpk7eSODjbKdtt8AvoKpGEt7UDZqF9kpZ5OyoR/pCTQZTUMGxKcMD7lReN5w3jZ4wMQyDIrnQx5hZL19X6H0KvrvMPig4PhxsIlwUnMZaDR8S8uTh0ubvijTYHy0i1ml9NGzssbx9L1xfUj3KgCGq2qxihbgeClRDE6H3WguHwEO2OlLoZJF/ZL25qf84mWZe02NDXcC/Fnwk2h+qSyow7vZWVfVPJVgbUDCfhHBPJvoyXQq51u2CWJ8/Kmym7LrNRTpRXbxWUsuIGeiVelLoHgLlQEre8vHnp15M2+dcwvmCWtmKkH1Mj+Cw0vysNLRyPMi8Wr9tq0qh0pbfwS6t+OdoNpDOK9PlQf9DTSzcG1+SxopLMZNG/YtEB66coQP0k28qmC/vg34eFrq5klleLtdaC4fFeNqgaQu+CK0edOnOX8rLLBay14TZNk68YR2dHeKDf/LO0kyh4IOhpVv7FVdtBsQFrz4R9TCduKsGvhdzNYYUQdJaNZbaWeTkx8fKoJ8am9+F7ugjsoZLCUeFXaryC4d6gE1/0khVemWl0pM65Qoyg5VnaYlmOW2kuD/qWb4eb266CkUDorKnf07eNX0gYKpEEdQSHSuRs0rTYtkGWHn0P8hyQNB8Mh3VelrrOcTyGe5l4T8WiUo3XaL9TC6/NrD4KHjbj0Qrof2OD1U9DRuq3lcPX8D7afgbCQdkGj4gDkVQA6KssiW/8aBs1ypJUM/22VsDcRFgh/s+J5Pp7TvOs4rjfaSPvPoKN3uu5yF96kq9MnQnBfM6uuOo+mDlO7/JPOfvuDQ69+JZJxo/mTxVvZiMetmrSs8UHhl7vzHUyLrC/0T1z+u0lqvG8gnRYH4jeCXgvPmmgV8fyZoWultXgsbT97PIOO5twt8nRY3KulrnXtUoSVay03aBsdCVPLvyd1+nNGQPCgqLgxSbSkSQfyGU4fbX4Qz+Ta0OI9K39c9JMTXgGBnzP8gwK8UiaO+ASjrnnVw93D/W/5X+5YMHLm6M5LIbzu4pUICGgDBHc2F1yaGTUfOfXwpeRHCK+AgAb4DfUfAsF9gd22Y9R9rHJb6QkhvAICLo7USZl0jlgsU5e3njnWbD6T3G+Iv7sQXgEBF8XAQL9AY6vhP/ioe6bp9FPlW7r286ROzgwXwisg4KJIm5JFy458F97O8s0llq25EOpkIbwCAi4I30EDvSGgd/J7N3d35Q5BNzv3QngFBC4F0q/Loo8O+KeYZ86dbFmhIFGevn9OCK+AgAvA2Gq8VXb7Wen3RcrvoZV/edwnhFdAwDWQeUFldtusEt7tZ2GgaRHCKyBwieHj50N71y2fQJ4/fV7tG3L554BEc1QIr4DAJUbG9aPkf0Iw7V+/T+2/0fLvug2gKRPCKyBwiWFqM8pPJLlIcL19venoVvlSUX5/8ieEV0DACtzcuq36XHQSyoipo5SHPewRwisg4AIwnGuTfzd+0V/sTQbTSIWwbxTCKyDgAij6di99t8sP5Mvy9PFUfmh/jey6zXDesEUIr4CAy+jOXedqAwMzp+VazvvSeXvSSDxNRvdR0do9jUJ4BQRcBKY20/9J7JjfdqPpSZ2Xzg/OM2t6zn3ShfOaW0H3en/zJk7SEBCwg5EzR2+Qus5mdvfQedD/nVe2m9rpjGhaBzZCqJ/ft2b3YiG8AgIuhhFTR9GS0LcQXPpXkw/TWA1mwTW1f7Fvdf4vL41GLyAgoAmZU0fRXz8ymaMjf78vWJ2/U9SMgICAgICAgICAgICAgICAgIAA8C8BBgAu4LS/WyCPjQAAAABJRU5ErkJggg==",a={width:280,height:280,type:"svg",dotsOptions:{color:"#333333",type:"rounded"},cornersSquareOptions:{color:"#6AA570",type:"extra-rounded"},cornersDotOptions:{color:"#BF9773",type:"dot"},backgroundOptions:{color:"#ffffff"},imageOptions:{crossOrigin:"anonymous",margin:8,imageSize:.35},qrOptions:{errorCorrectionLevel:"H"}},s={mono:{name:"Mono",android:"com.ftband.mono",ios:"mono",icon:"https://cdn.jsdelivr.net/gh/alya1992/sonyasha-payment-widget@main/icons/mono.png"},privat24:{name:"Приват24",android:"ua.privatbank.ap24",ios:"privat24",icon:"https://cdn.jsdelivr.net/gh/alya1992/sonyasha-payment-widget@main/icons/privat24.png"},abank:{name:"А-Банк",android:"ua.com.abank",ios:"abank24",icon:"https://cdn.jsdelivr.net/gh/alya1992/sonyasha-payment-widget@main/icons/abank.png"},pumb:{name:"ПУМБ",android:"com.fuib.android.spot.online",ios:"pumb",icon:"https://cdn.jsdelivr.net/gh/alya1992/sonyasha-payment-widget@main/icons/pumb.png"},sense:{name:"Sense",android:"ua.alfabank.mobile.android",ios:"alfabank",icon:"https://cdn.jsdelivr.net/gh/alya1992/sonyasha-payment-widget@main/icons/sense.png"},ukrgasbank:{name:"Укргазбанк",android:"com.ugb.app",ios:"ugb",icon:"https://cdn.jsdelivr.net/gh/alya1992/sonyasha-payment-widget@main/icons/ukrgasbank.png"},creditagricole:{name:"Креді Агріколь",android:"ua.creditagricole.mobile.app",ios:"creditagricole",icon:"https://cdn.jsdelivr.net/gh/alya1992/sonyasha-payment-widget@main/icons/creditagricole.png"},otp:{name:"ОТП Банк",android:"ua.otpbank.android",ios:"otpbank",icon:"https://cdn.jsdelivr.net/gh/alya1992/sonyasha-payment-widget@main/icons/otp.png"},izibank:{name:"izibank",android:"ua.izibank.app",ios:"izibank",icon:"https://cdn.jsdelivr.net/gh/alya1992/sonyasha-payment-widget@main/icons/izibank.png"},globus:{name:"Глобус",android:"com.t18.bone.personal.globus",ios:"globus",icon:"https://cdn.jsdelivr.net/gh/alya1992/sonyasha-payment-widget@main/icons/globus.png"}},u=["mono","privat24","abank","pumb","sense","ukrgasbank"],d=["creditagricole","otp","izibank","globus"];let c=!1;function l(t){c=!0,t&&t()}function h(t,e,n){var o="string"==typeof t?document.querySelector(t):t;if(!o)return console.error("SonyashaPaymentQR: QR container not found"),void(n&&n(new Error("Container not found")));o.innerHTML='<div class="sonyasha-qr-loading"><div class="sonyasha-spinner"></div></div>',l(function(){o.innerHTML="";var t=Object.assign({},a,{data:e,image:r.qrLogoUrl||i}),s=new QRCodeStyling(t);s.append(o),n&&n(null,s)})}function p(t){return"string"!=typeof t?"":t.replace(/[\n\r]/g," ").trim()}function f(t){const e=parseFloat(t);return isNaN(e)?"0.00":e.toFixed(2)}function g(t){return r.purposePrefix+" "+t}function v(t,e){const n=g(t),o=f(e);return["BCD","002","1","UCT","",p(r.recipientName),p(r.iban),"UAH"+o,p(r.taxId),"","",n,"",""].join("\n")}function y(t){const e=(new TextEncoder).encode(t);let n="";e.forEach(function(t){n+=String.fromCharCode(t)});return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function m(t,e){const n=y(v(t,e));return o+n}function w(t){const e=t||r.orderIdSelector;if("undefined"==typeof document)return null;const n=document.querySelector(e);if(!n)return null;const o=(n.textContent||"").match(/(?:№|#|No\.?\s*)\s*(\d+)/i);return o?o[1]:null}function b(t){const e=t||r.amountSelector;if("undefined"==typeof document)return null;const n=document.querySelector(e);if(!n)return null;let o=n.textContent||"";o=o.replace(/грн|₴|UAH|грн\.|гривень|гривня/gi,""),o=o.replace(/\u00A0/g,""),o=o.replace(/\s/g,""),o=o.replace(",","."),o=o.trim();const i=parseFloat(o);return isNaN(i)?null:i}const x="\n        .sonyasha-payment-card {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n            max-width: 420px;\n            width: 100%;\n            overflow: hidden;\n            margin: 0 auto;\n            box-sizing: border-box;\n        }\n        .sonyasha-payment-card * {\n            box-sizing: border-box;\n        }\n        .sonyasha-payment-header {\n            background: #6AA570;\n            padding: 20px 24px;\n            text-align: center;\n        }\n        .sonyasha-logo {\n            max-width: 200px;\n            width: 100%;\n            height: auto;\n        }\n        .sonyasha-payment-body {\n            padding: 32px 24px;\n            text-align: center;\n        }\n        .sonyasha-amount-section {\n            margin-bottom: 28px;\n        }\n        .sonyasha-amount-label {\n            color: #666;\n            font-size: 14px;\n            margin-bottom: 8px;\n        }\n        .sonyasha-amount {\n            font-size: 42px;\n            font-weight: 700;\n            color: #6AA570;\n            display: inline;\n        }\n        .sonyasha-currency {\n            font-size: 24px;\n            color: #666;\n            margin-left: 4px;\n        }\n        .sonyasha-qr-container {\n            margin: 0 auto 28px;\n            display: flex;\n            justify-content: center;\n            min-height: 280px;\n        }\n        .sonyasha-qr-loading {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            width: 280px;\n            height: 280px;\n        }\n        .sonyasha-spinner {\n            width: 40px;\n            height: 40px;\n            border: 3px solid #e5e7eb;\n            border-top-color: #6AA570;\n            border-radius: 50%;\n            animation: sonyasha-spin 1s linear infinite;\n        }\n        @keyframes sonyasha-spin {\n            to { transform: rotate(360deg); }\n        }\n        .sonyasha-pay-button {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            gap: 10px;\n            width: 100%;\n            padding: 16px 32px;\n            background: #6AA570;\n            color: white;\n            font-size: 18px;\n            font-weight: 600;\n            border: none;\n            border-radius: 12px;\n            cursor: pointer;\n            text-decoration: none;\n            transition: transform 0.3s ease, box-shadow 0.3s ease;\n        }\n        .sonyasha-pay-button:hover {\n            transform: translateY(-3px);\n            box-shadow: 0 8px 25px rgba(106, 165, 112, 0.4);\n        }\n        .sonyasha-pay-button:active {\n            transform: translateY(0);\n        }\n        .sonyasha-pay-button svg {\n            width: 22px;\n            height: 22px;\n        }\n        .sonyasha-payment-footer {\n            padding: 20px 24px 28px;\n            background: #fafafa;\n            border-top: 1px solid #eee;\n        }\n        .sonyasha-details-title {\n            color: #BF9773;\n            font-size: 13px;\n            font-weight: 600;\n            text-transform: uppercase;\n            letter-spacing: 1px;\n            margin-bottom: 16px;\n        }\n        .sonyasha-detail-item {\n            margin-bottom: 14px;\n            text-align: left;\n        }\n        .sonyasha-detail-item:last-child {\n            margin-bottom: 0;\n        }\n        .sonyasha-detail-label {\n            color: #999;\n            font-size: 11px;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n            margin-bottom: 4px;\n        }\n        .sonyasha-detail-value {\n            color: #333;\n            font-size: 14px;\n            font-weight: 500;\n            word-break: break-all;\n            line-height: 1.4;\n        }\n        .sonyasha-iban {\n            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;\n            font-size: 13px;\n            letter-spacing: 0.5px;\n        }\n        .sonyasha-instruction {\n            margin-top: 20px;\n            padding: 14px;\n            background: rgba(106, 165, 112, 0.08);\n            border-radius: 10px;\n            font-size: 13px;\n            color: #666;\n            text-align: center;\n            border: 1px solid rgba(106, 165, 112, 0.2);\n        }\n        .sonyasha-error {\n            padding: 20px;\n            text-align: center;\n            color: #dc3545;\n            background: #fff5f5;\n            border: 1px solid #f5c6cb;\n            border-radius: 10px;\n            margin-bottom: 20px;\n        }\n        .sonyasha-error-icon {\n            font-size: 48px;\n            margin-bottom: 12px;\n        }\n        .sonyasha-error-message {\n            font-size: 14px;\n            font-weight: 500;\n        }\n        /* Mobile responsive styles */\n        @media (max-width: 480px) {\n            .sonyasha-payment-card {\n                border-radius: 16px;\n            }\n            .sonyasha-payment-header {\n                padding: 20px;\n            }\n            .sonyasha-amount {\n                font-size: 36px;\n            }\n            .sonyasha-payment-body {\n                padding: 24px 16px;\n            }\n            .sonyasha-payment-footer {\n                padding: 16px;\n            }\n            .sonyasha-detail-value {\n                font-size: 13px;\n            }\n            .sonyasha-iban {\n                font-size: 12px;\n            }\n        }\n        /* Platform-specific visibility (Task 2.1) */\n        /* Hide bank selection on desktop - only show QR for scanning */\n        .sonyasha-platform-desktop .sonyasha-bank-selection {\n            display: none !important;\n        }\n        /* Hide pay button on desktop - deeplinks don't work */\n        .sonyasha-platform-desktop .sonyasha-pay-button {\n            display: none !important;\n        }\n        /* Show bank selection on mobile */\n        .sonyasha-platform-ios .sonyasha-bank-selection,\n        .sonyasha-platform-android .sonyasha-bank-selection {\n            display: block;\n        }\n        /* Bank Selection UI (Task 2.4) */\n        .sonyasha-bank-selection {\n            margin-top: 24px;\n            text-align: center;\n        }\n        .sonyasha-bank-title {\n            color: #666;\n            font-size: 13px;\n            margin-bottom: 16px;\n        }\n        .sonyasha-banks-grid {\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            gap: 12px;\n            margin-bottom: 16px;\n        }\n        .sonyasha-bank-item {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            text-decoration: none;\n            padding: 12px 8px;\n            border-radius: 12px;\n            transition: all 0.2s ease;\n            background: #f9f9f9;\n            cursor: pointer;\n            border: none;\n            font-family: inherit;\n        }\n        .sonyasha-bank-item:hover {\n            background: #f0f0f0;\n            transform: translateY(-2px);\n        }\n        .sonyasha-bank-item:active {\n            transform: translateY(0);\n            background: #e8e8e8;\n        }\n        .sonyasha-bank-icon {\n            width: 48px;\n            height: 48px;\n            object-fit: contain;\n            margin-bottom: 8px;\n            border-radius: 8px;\n        }\n        .sonyasha-bank-name {\n            font-size: 11px;\n            color: #555;\n            text-align: center;\n            line-height: 1.3;\n            font-weight: 500;\n        }\n        .sonyasha-extra-banks {\n            display: none;\n        }\n        .sonyasha-extra-banks.sonyasha-show {\n            display: grid;\n        }\n        .sonyasha-show-more {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            background: none;\n            border: 1px solid #ddd;\n            padding: 10px 20px;\n            border-radius: 8px;\n            color: #666;\n            font-size: 13px;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            font-family: inherit;\n        }\n        .sonyasha-show-more:hover {\n            background: #f5f5f5;\n            border-color: #ccc;\n        }\n        .sonyasha-show-more svg {\n            width: 16px;\n            height: 16px;\n            transition: transform 0.2s ease;\n        }\n        .sonyasha-show-more.sonyasha-expanded svg {\n            transform: rotate(180deg);\n        }\n        /* Mobile responsive bank selection */\n        @media (max-width: 480px) {\n            .sonyasha-banks-grid {\n                gap: 10px;\n            }\n            .sonyasha-bank-item {\n                padding: 10px 6px;\n            }\n            .sonyasha-bank-icon {\n                width: 40px;\n                height: 40px;\n            }\n            .sonyasha-bank-name {\n                font-size: 10px;\n            }\n        }\n    ";let S=!1;function k(){if(S)return;if("undefined"==typeof document)return;const t=document.createElement("style");t.id="sonyasha-payment-widget-styles",t.textContent=x,document.head.appendChild(t),S=!0}function A(t){const e=parseFloat(t);return isNaN(e)?"0,00":e.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g," ")}function C(t){const e=A(t.amount),n=g(t.orderId);return'<div class="sonyasha-payment-card"><div class="sonyasha-payment-header">'+(r.logoUrl?'<img src="'+r.logoUrl+'" alt="Sonyasha Toys" class="sonyasha-logo">':"")+'</div><div class="sonyasha-payment-body"><div class="sonyasha-amount-section"><div class="sonyasha-amount-label">До сплати</div><div><span class="sonyasha-amount">'+e+'</span><span class="sonyasha-currency">₴</span></div></div><div class="sonyasha-qr-container" id="sonyasha-qr"><div class="sonyasha-qr-loading"><div class="sonyasha-spinner"></div></div></div>'+(r.showPayButton&&D()?'<a href="'+t.deeplinkUrl+'" class="sonyasha-pay-button"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" /></svg> Сплатити</a>':"")+(r.showBankSelection&&D()?N(t.deeplinkUrl):"")+'</div><div class="sonyasha-payment-footer"><div class="sonyasha-details-title">Реквізити</div><div class="sonyasha-detail-item"><div class="sonyasha-detail-label">Отримувач</div><div class="sonyasha-detail-value">'+r.recipientName+'</div></div><div class="sonyasha-detail-item"><div class="sonyasha-detail-label">IBAN</div><div class="sonyasha-detail-value sonyasha-iban">'+r.iban+'</div></div><div class="sonyasha-detail-item"><div class="sonyasha-detail-label">Призначення</div><div class="sonyasha-detail-value">'+n+'</div></div><div class="sonyasha-instruction">Скануйте QR-код камерою або оберіть банк</div></div></div>'}function _(t){var e=r.purposePrefix;return t&&(e+=" "+t),'<div class="sonyasha-payment-card sonyasha-fallback"><div class="sonyasha-payment-footer" style="padding-top: 24px; border-top: none;"><div class="sonyasha-details-title">Реквізити для оплати</div><div class="sonyasha-detail-item"><div class="sonyasha-detail-label">Отримувач</div><div class="sonyasha-detail-value">'+O(r.recipientName)+'</div></div><div class="sonyasha-detail-item"><div class="sonyasha-detail-label">IBAN</div><div class="sonyasha-detail-value sonyasha-iban">'+O(r.iban)+'</div></div><div class="sonyasha-detail-item"><div class="sonyasha-detail-label">ІПН/ЄДРПОУ</div><div class="sonyasha-detail-value">'+O(r.taxId)+'</div></div><div class="sonyasha-detail-item"><div class="sonyasha-detail-label">Призначення</div><div class="sonyasha-detail-value">'+O(e)+'</div></div><div class="sonyasha-instruction" style="margin-top: 16px;">Скопіюйте реквізити та здійсніть оплату через ваш банк</div></div></div>'}function M(t,e){if("undefined"!=typeof document){var n=document.querySelector(t);if(n){k();var r=P();n.className=(n.className||"").replace(/\bsonyasha-platform-\w+\b/g,"").trim(),n.className+=" sonyasha-platform-"+r,n.innerHTML=_(e)}else console.error("SonyashaPayment: Container not found: "+t)}}function B(){return"sonyasha-qr"}function O(t){if("string"!=typeof t)return"";if("undefined"==typeof document)return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");var e=document.createElement("div");return e.textContent=t,e.innerHTML}function P(){if("undefined"==typeof navigator)return"desktop";var t=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(t)?"ios":/android/.test(t)?"android":"desktop"}function D(){var t=P();return"ios"===t||"android"===t}function z(t,e,n,o){if("undefined"!=typeof document){var i=document.querySelector(t);if(i){k();var a=P();i.className=(i.className||"").replace(/\bsonyasha-platform-\w+\b/g,"").trim(),i.className+=" sonyasha-platform-"+a;var s=C({orderId:e,amount:n,deeplinkUrl:o});i.innerHTML=s,h("#sonyasha-qr",o),r.showBankSelection&&D()&&j(i)}else console.error("SonyashaPayment: Container not found: "+t)}}function q(t){var e=(t=t||{}).container||"#sonyasha-payment",n=t.orderIdSelector||r.orderIdSelector,o=t.amountSelector||r.amountSelector;t.orderIdSelector&&(r.orderIdSelector=t.orderIdSelector),t.amountSelector&&(r.amountSelector=t.amountSelector);var i=w(n),a=b(o);!i||!a||a<=0?M(e,i):z(e,i,a,m(i,a))}function I(t,e){var n=s[t];if(!n)return e;var r=P();return"ios"===r?e.replace("https",n.ios):"android"===r?e.replace("https","intent")+"#Intent;scheme=https;package="+n.android+";end":e}const L='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>';function E(t,e){var n=s[t];return n?'<button class="sonyasha-bank-item" data-bank="'+t+'" data-deeplink="'+O(I(t,e))+'"><img src="'+n.icon+'" alt="'+O(n.name)+'" class="sonyasha-bank-icon"><span class="sonyasha-bank-name">'+O(n.name)+"</span></button>":""}function N(t){for(var e="",n="",r=0;r<u.length;r++)e+=E(u[r],t);for(var o=0;o<d.length;o++)n+=E(d[o],t);return'<div class="sonyasha-bank-selection"><div class="sonyasha-bank-title">або оберіть свій банк</div><div class="sonyasha-banks-grid sonyasha-main-banks">'+e+'</div><div class="sonyasha-banks-grid sonyasha-extra-banks">'+n+'</div><button class="sonyasha-show-more"><span class="sonyasha-show-more-text">Показати ще</span>'+L+"</button></div>"}function Q(t){var e=t||document,n=e.querySelector(".sonyasha-extra-banks"),r=e.querySelector(".sonyasha-show-more"),o=e.querySelector(".sonyasha-show-more-text");n&&r&&(n.classList.contains("sonyasha-show")?(n.classList.remove("sonyasha-show"),r.classList.remove("sonyasha-expanded"),o&&(o.textContent="Показати ще")):(n.classList.add("sonyasha-show"),r.classList.add("sonyasha-expanded"),o&&(o.textContent="Сховати")))}function j(t){var e=t||document,n=e.querySelector(".sonyasha-show-more");n&&n.addEventListener("click",function(e){e.preventDefault(),Q(t)});for(var r=e.querySelectorAll(".sonyasha-bank-item"),o=0;o<r.length;o++)r[o].addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("data-deeplink");e&&window.location.assign(e)})}"undefined"!=typeof document&&document.addEventListener("DOMContentLoaded",function(){document.querySelector("#sonyasha-payment")&&q()});const R={configure:function(t){t.recipientName&&(r.recipientName=t.recipientName),t.iban&&(r.iban=t.iban),t.taxId&&(r.taxId=t.taxId),t.purposePrefix&&(r.purposePrefix=t.purposePrefix),t.orderIdSelector&&(r.orderIdSelector=t.orderIdSelector),t.amountSelector&&(r.amountSelector=t.amountSelector),t.containerSelector&&(r.containerSelector=t.containerSelector),void 0!==t.logoUrl&&(r.logoUrl=t.logoUrl),void 0!==t.showPayButton&&(r.showPayButton=t.showPayButton),void 0!==t.showBankSelection&&(r.showBankSelection=t.showBankSelection),void 0!==t.qrLibraryUrl&&(r.qrLibraryUrl=t.qrLibraryUrl),void 0!==t.qrLogoUrl&&(r.qrLogoUrl=t.qrLogoUrl)},getConfig:function(){return Object.assign({},r)},validateConfig:function(){const t=[];return r.recipientName||t.push("recipientName is required"),r.iban||t.push("iban is required"),r.taxId||t.push("taxId is required"),{valid:0===t.length,errors:t}},buildDataString:v,buildDeeplinkUrl:m,formatAmount:f,encodeBase64Url:y,parseOrderId:w,parseAmount:b,parseOrderIdFromText:function(t){if("string"!=typeof t)return null;const e=t.match(/(?:№|#|No\.?\s*)\s*(\d+)/i);return e?e[1]:null},parseAmountFromText:function(t){if("string"!=typeof t)return null;t=(t=(t=(t=(t=t.replace(/грн|₴|UAH|грн\.|гривень|гривня/gi,"")).replace(/\u00A0/g,"")).replace(/\s/g,"")).replace(",",".")).trim();const e=parseFloat(t);return isNaN(e)?null:e},injectStyles:k,buildTemplate:C,buildErrorTemplate:function(t){const e=t.map(function(t){return"<div>"+t+"</div>"}).join("");return'<div class="sonyasha-payment-card"><div class="sonyasha-payment-body"><div class="sonyasha-error"><div class="sonyasha-error-icon">⚠️</div><div class="sonyasha-error-message">Не вдалося завантажити дані для оплати</div><div style="margin-top: 12px; font-size: 12px; color: #666;">'+e+"</div></div></div></div>"},buildFallbackTemplate:_,renderFallbackDetails:M,formatAmountDisplay:A,getQrContainerId:B,renderQr:h,loadQrLibrary:l,isQrLibraryLoaded:function(){return"undefined"!=typeof QRCodeStyling},init:q,showError:function(t,e){if("undefined"!=typeof document){var n=document.querySelector(t);n?(k(),n.innerHTML='<div class="sonyasha-payment-card"><div class="sonyasha-payment-body"><div class="sonyasha-error"><div class="sonyasha-error-icon">⚠️</div><p class="sonyasha-error-message">'+O(e)+'</p><p class="sonyasha-error-help" style="margin-top: 12px; font-size: 13px; color: #666;">Зверніться до продавця для отримання реквізитів оплати.</p></div></div></div>'):console.error("SonyashaPayment: Container not found: "+t)}},escapeHtml:O,getPlatform:P,isMobile:D,renderWidget:z,getBank:function(t){return s[t]||null},getAllBankCodes:function(){return Object.keys(s)},getBankDeeplink:I,BANKS:s,MAIN_BANKS:u,EXTRA_BANKS:d,buildBankButton:E,buildBankSelectionHtml:N,toggleExtraBanks:Q,initBankSelection:j,NBU_DEEPLINK_PREFIX:o,NBU_FORMAT_VERSION:"002",WIDGET_STYLES:x,DEFAULT_LOGO_BASE64:i,QR_CONFIG:a};"undefined"!=typeof module&&module.exports?module.exports=R:t.SonyashaPaymentQR=R}("undefined"!=typeof window?window:this);